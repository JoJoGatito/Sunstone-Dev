<!DOCTYPE html>
<html lang="en">
 <head>
  <meta charset="UTF-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Sunstone Inclusivity Network</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Supabase Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="src/js/config/github-pages-supabase-fix.js"></script>
    <script src="src/js/config/supabase-config.js"></script>
    <script src="src/js/events/group-events.js"></script>
    <script type="module">
      import { CardGroup } from './src/components/CardGroup.js';
      
      // Wait for Supabase to be initialized
      document.addEventListener('DOMContentLoaded', () => {
        if (typeof supabase === 'undefined') {
          console.error('Supabase not initialized');
          return;
        }
        console.log('Initializing CardGroup');
        new CardGroup();
      });
    </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
  <link href="https://www.dyslexiefont.com/css/dyslexie.css" rel="stylesheet" type="text/css"/>
  <link href="src/components/orbiting-sponsors.css" rel="stylesheet" type="text/css"/>
  <link href="assets/css/card-group.css?v=2025081901" rel="stylesheet" type="text/css"/>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: { dyslexie: ["Dyslexie", "sans-serif"] },
          },
        },
      };
    </script>
 </head>
 <body class="bg-black text-white font-dyslexie">
    <header class="w-full relative">
      <div class="max-w-4xl mx-auto relative pt-16 sm:pt-4">
        <img src="assets/images/banners/SIN Banner 1.webp" alt="SIN Logo" class="absolute -top-4 sm:-top-16 left-0 sm:-left-24 md:-left-32 w-[50%] sm:w-[50%] h-auto z-10"/>
        <img src="assets/images/banners/sinlogo.webp" alt="SIN Couple" class="w-full h-auto mt-4 sm:mt-0"/>
      </div>
    </header>
    <main>
      <section id="our-groups-section" class="px-4 md:px-8">
        <h2 class="text-5xl md:text-6xl font-bold text-yellow-500 text-center mb-6">Our Current Groups</h2>
        <div id="group-grid-container" class="max-w-4xl mx-auto">
          <div class="group-grid">
            <!-- Boxes will be generated dynamically via JavaScript -->
          </div>
        </div>

        <!-- Dropdown Menu -->
        <div class="dropdown-container">
          <div class="dropdown-menu">
            <nav aria-label="Site Navigation">
                <!-- Donate -->
                <input type="radio" name="dropdown" id="dropdown-donate" class="dropdown-input" aria-expanded="false">
                <label for="dropdown-donate" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="donate-content">
                  <i class="dropdown-icon fas fa-heart"></i>
                  <span>Donate</span>
                  <div class="arrow" aria-hidden="true"></div>
                </label>
                <div id="donate-content" class="dropdown-content" role="menu">
                  <a href="https://opencollective.com/sunstone-inclusivity-network" class="dropdown-link" role="menuitem">Support Our Mission</a>
                </div>
    
                <!-- Local Events -->
                <input type="radio" name="dropdown" id="dropdown-events" class="dropdown-input" aria-expanded="false">
                <label for="dropdown-events" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="events-content">
                  <i class="dropdown-icon fas fa-calendar-alt"></i>
                  <span>Local Events</span>
                  <div class="arrow" aria-hidden="true"></div>
                </label>
                <div id="events-content" class="dropdown-content" role="menu">
                  <a href="public/local-events.html" class="dropdown-link" role="menuitem">View All Events</a>
                </div>
    
                <!-- Local Resources -->
                <input type="radio" name="dropdown" id="dropdown-resources" class="dropdown-input" aria-expanded="false">
                <label for="dropdown-resources" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="resources-content">
                  <i class="dropdown-icon fas fa-book"></i>
                  <span>Local Resources</span>
                  <div class="arrow" aria-hidden="true"></div>
                </label>
                <div id="resources-content" class="dropdown-content" role="menu">
                  <a href="public/resources.html" class="dropdown-link" role="menuitem">View Resources</a>
                </div>
    
                <!-- Groups -->
                <input type="radio" name="dropdown" id="dropdown-groups" class="dropdown-input" aria-expanded="false">
                <label for="dropdown-groups" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="groups-content">
                  <i class="dropdown-icon fas fa-users"></i>
                  <span>Groups</span>
                  <div class="arrow" aria-hidden="true"></div>
                </label>
                <div id="groups-content" class="dropdown-content" role="menu">
                  <a href="groups/cafeteria-collective.html" class="dropdown-link" role="menuitem">Cafeteria Collective</a>
                  <a href="groups/disabitch.html" class="dropdown-link" role="menuitem">Disabitch</a>
                  <a href="groups/hue-house.html" class="dropdown-link" role="menuitem">Hue House</a>
                  <a href="groups/rock-and-stone.html" class="dropdown-link" role="menuitem">Rock & Stone</a>
                  <a href="groups/sunstone-youth-group.html" class="dropdown-link" role="menuitem">Sunstone Youth Group</a>
                </div>

                <!-- About Us -->
                <input type="radio" name="dropdown" id="dropdown-about" class="dropdown-input" aria-expanded="false">
                <label for="dropdown-about" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="about-content">
                  <i class="dropdown-icon fas fa-info-circle"></i>
                  <span>About Us</span>
                  <div class="arrow" aria-hidden="true"></div>
                </label>
                <div id="about-content" class="dropdown-content" role="menu">
                  <a href="about.html" class="dropdown-link" role="menuitem">About Us</a>
                  <a href="/board/index.html" class="dropdown-link" role="menuitem">The Board</a>
                </div>

                <!-- Discord -->
                <input type="radio" name="dropdown" id="dropdown-discord" class="dropdown-input" aria-expanded="false">
                <label for="dropdown-discord" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="discord-content">
                  <i class="dropdown-icon fab fa-discord"></i>
                  <span>Discord</span>
                  <div class="arrow" aria-hidden="true"></div>
                </label>
                <div id="discord-content" class="dropdown-content" role="menu">
                  <a href="https://discord.gg/5XeapVWHVv" class="dropdown-link" role="menuitem">Join Our Community</a>
                </div>

              <!-- Contact Us -->
              <input type="radio" name="dropdown" id="dropdown-contact" class="dropdown-input" aria-expanded="false">
              <label for="dropdown-contact" class="dropdown-label" role="button" aria-haspopup="true" aria-controls="contact-content">
                <i class="dropdown-icon fas fa-envelope"></i>
                <span>Contacting us</span>
                <div class="arrow" aria-hidden="true"></div>
              </label>
              <div id="contact-content" class="dropdown-content" role="menu">
                <a href="mailto:info@sunstonein.org" class="dropdown-link" role="menuitem">Email: info@sunstonein.org</a>
                <a href="https://www.facebook.com/sunstoneinclusivitynetwork" class="dropdown-link" role="menuitem">Facebook</a>
              </div>
          </nav>
          </div>
        </div>
      </section>
      <div class="h-16"></div> <!-- Additional spacing -->
      
      <!-- Sponsors Section -->
      <section id="sponsors-section" class="my-16">
        <div class="max-w-4xl mx-auto px-4 md:px-8">
          <h2 class="text-5xl md:text-6xl font-bold text-yellow-500 text-center mb-10">Our Sponsors</h2>
          
          <div class="orbit-wrap">
            <!-- Center sun -->
            <li class="orbit-center">
              <div class="orbit-center__icon sun-element"></div>
            </li>

            <!-- Ring 0 (outermost) -->
            <li>
              <ul class="ring-0">
                <li><div class="sponsor-item">
                  <a href="https://www.socoequality.org/" target="_blank" rel="noopener noreferrer">
                    <img src="assets/images/Sponsors/SCEA.webp" alt="SCEA Logo" class="sponsor-logo">
                  </a>
                </div></li>
              </ul>
            </li>

            <!-- Additional rings removed as requested -->
          </div>
        </div>
      </section>
    </main>
    <link href="assets/css/site.css" rel="stylesheet" type="text/css"/>
    <script>
      function toggleAccordion(button) {
        const content = button.nextElementSibling;
        const isExpanded = button.getAttribute('aria-expanded') === 'true';
        
        // Close all other accordion items
        document.querySelectorAll('.accordion-item button').forEach(btn => {
          if (btn !== button) {
            btn.setAttribute('aria-expanded', 'false');
            btn.nextElementSibling.classList.remove('show');
          }
        });

        // Toggle current accordion item
        button.setAttribute('aria-expanded', !isExpanded);
        content.classList.toggle('show');
      }
    </script>
    <script>
      // Handle dropdown menu behavior
      document.addEventListener('click', (e) => {
        // Only handle clicks on dropdown labels or their children
        const clickedLabel = e.target.closest('.dropdown-label');
        if (!clickedLabel) {
          // If clicking outside, close all dropdowns
          document.querySelectorAll('.dropdown-input').forEach(input => {
            input.checked = false;
            input.setAttribute('aria-expanded', 'false');
          });
          return;
        }

        // Get the associated input for the clicked label
        const clickedInput = clickedLabel.previousElementSibling;
        if (!clickedInput || !clickedInput.classList.contains('dropdown-input')) return;

        // Prevent the click from being handled twice
        e.preventDefault();
        e.stopPropagation();

        // Close other dropdowns
        document.querySelectorAll('.dropdown-input').forEach(input => {
          if (input !== clickedInput) {
            input.checked = false;
            input.setAttribute('aria-expanded', 'false');
          }
        });

        // Toggle the clicked dropdown
        const newState = !clickedInput.checked;
        clickedInput.checked = newState;
        clickedInput.setAttribute('aria-expanded', newState.toString());
      });

      // Handle keyboard navigation
      document.addEventListener('keydown', (e) => {
        const activeElement = document.activeElement;
        
        // Handle Enter/Space on labels
        if ((e.key === 'Enter' || e.key === ' ') && activeElement.classList.contains('dropdown-label')) {
          e.preventDefault();
          activeElement.click();
        }
        
        // Handle Escape key
        if (e.key === 'Escape') {
          document.querySelectorAll('.dropdown-input').forEach(input => {
            input.checked = false;
            input.setAttribute('aria-expanded', 'false');
          });
        }

        // Handle arrow keys for menu items
        if (activeElement.classList.contains('dropdown-link')) {
          const menu = activeElement.closest('.dropdown-content');
          const items = Array.from(menu.querySelectorAll('.dropdown-link'));
          const currentIndex = items.indexOf(activeElement);

          if (e.key === 'ArrowDown' && currentIndex < items.length - 1) {
            e.preventDefault();
            items[currentIndex + 1].focus();
          } else if (e.key === 'ArrowUp' && currentIndex > 0) {
            e.preventDefault();
            items[currentIndex - 1].focus();
          }
        }
      });
    </script>
    <script type="module">
      import ScrollProgress from './src/components/ScrollProgress.js';

      // Wait for both DOM content and all resources to load
      window.addEventListener('load', () => {
        // Initialize ScrollProgress
        const scrollProgress = new ScrollProgress();

        // Cleanup on page unload
        window.addEventListener('unload', () => {
          scrollProgress.cleanup && scrollProgress.cleanup();
        });
      });
    </script>
  </body>
</html>